<%- include('../includes/head.ejs') %>
</head>

<body>
<%- include('../includes/navbar.ejs') %>
<main class = "mt-2 min-h-screen m-5">
	<h1 class = "text-2xl font-bold mb-4 text-center">Add Product</h1>

	<div class = "flex justify-center items-center">
		<form action = "<%= editMode ? '/admin/edit-product' : '/admin/add-product'; %>"
			  method = "POST"
			  class = "w-full max-w-lg"
		>
			<div class = "mb-4">
				<label for = "name"
					   class = "block text-gray-700 text-sm font-bold mb-2"
				>Name:</label>
				<input type = "text"
					   name = "name"
					   id = "name"
					   value = "<%= editMode ? product.name : ''; %>"
					   class = "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
				>
			</div>

			<div class = "mb-4">
				<label for = "imageURL"
					   class = "block text-gray-700 text-sm font-bold mb-2"
				>Image URL:</label>
				<input type = "text"
					   name = "imageURL"
					   id = "imageURL"
					   value = "<%= editMode ? product.imageURL : ''; %>"
					   class = "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
				>
				<img id = "previewImage" src = "<%= editMode ? product.imageURL : ''; %>" alt = "Image Preview"
					 class = "product-image mt-4 mx-auto"
					 style = "<%= product?.imageURL ? 'display: block;' : 'display: none;'; %>"
				>
			</div>

			<div class = "mb-4">
				<label for = "price"
					   class = "block text-gray-700 text-sm font-bold mb-2"
				>Price:</label>
				<input type = "text"
					   name = "price"
					   id = "price"
					   value = "<%= editMode ? product.price : ''; %>"
					   class = "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
				>
			</div>

			<div class = "mb-4">
				<label for = "quantity"
					   class = "block text-gray-700 text-sm font-bold mb-2"
				>Quantity Left:</label>
				<input type = "text"
					   name = "quantity"
					   id = "quantity"
					   value = "<%= editMode ? product.quantity : ''; %>"
					   class = "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
				>
			</div>

			<div class = "mb-4">
				<label for = "description"
					   class = "block text-gray-700 text-sm font-bold mb-2"
				>Description:</label>
				<input type = "text"
					   name = "description"
					   id = "description"
					   value = "<%= editMode ? product.description : ''; %>"
					   class = "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
				>
			</div>

			<% if (editMode) { %>
				<input type = "hidden"
					   name = "productID"
					   id = "productID"
					   value = "<%= product?._id; %>"
				>
			<% } %>

			<button type = "submit"
					class = "bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 sm:mx-auto"
			>Submit
			</button>
		</form>
	</div>
</main>
<script src = "/previewImage.js"></script>
<%- include('../includes/end.ejs') %>
